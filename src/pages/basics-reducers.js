import React from 'react'
import { Link } from 'gatsby'

import Layout from '../components/layout';
import Sidenav from '../components/sidenav';
import Code from '../components/code';
import BottomNavigation from '../components/bottom-navigation';


const pageTitle = "";

class Page extends React.Component  {

    render(){
        return (
            <Layout breadcrumbs={[{ to: '/', text: 'ooo' }]} pageTitle={"Read Me"}>
                <div className="doc-wrapper">
                    <div className="container">
                        <div id="doc-header" className="doc-header text-center">
                            <h1 className="doc-title"><i className="icon fa fa-paper-plane" /> Reducers</h1>
                            <div className="meta"><i className="far fa-clock" /> Last updated: Oct 30th, 2018</div>
                        </div>{/*//doc-header*/}
                        <div className="doc-body row">
                            <div className="doc-content col-md-9 col-12 order-1">
                                <div className="content-inner">
                                    <section className="doc-section">
                                        <h2 className="section-title">Reducers</h2>
                                        <div className="section-block">
                                            <p>Reducers are functions that given a state and an action, return a new state.</p>
                                        </div>
                                    </section>
                                    <section className="doc-section">
                                        <div className="section-block">
                                            <h2>What do they look like here?</h2>
                                            <p>The autogenerated reducers listen for <b>CRUD actions</b> and their <b><i>stateful versions</i> (success or failure)</b>. Here is an example:</p>

                                            <Code  code={`
/* ... */
let read        = "MyModel/READ";
let readSuccess = "MyModel/READ__SUCCESS";
let readFailure = "MyModel/READ__FAILURE";
/* ... */
                                            `} />
                                            <p><b>Default states</b> contain a <b>byId</b> property holding a dictionary of the entries.</p>
                                            <p>An <b>error</b> field keeps the <b>last model error</b></p>
                                            <p>Finally, one of <b>["IDLE", "LOADING", "SUCCESS", "FAILURE"]</b> is assigned to a property named after the crud operation to represent the <b>state</b> of the <b>last execution of this operation</b></p>
                                            <p>It follows this structure:</p>

                                           <Code code={`
/* ... */
let defaultState = {
  // a dictionary that gets populated
  // with entities
  byId: {},

  // The latest error related to this model
  error: null,

  // state of the lastly executed
  // crud operations for this model
  create: "IDLE",
  read: "IDLE",
  update: "IDLE",
  delete: "IDLE",
};
/* ... */
                                           `} />

                                        </div>
                                    </section>
                                    <section className="doc-section">
                                        <div className="section-block">
                                            <h2>How do I make them?</h2>
                                            <p>ReduxManagerLib exposes factory functions for all basic redux "layers", including reducers.</p>
                                            <p>To generate them, simply use the <b>reducerFactory</b> function:</p>

                                           <Code code={`
import { reducerFactory } from "redux-manager-lib";

let actionTypes = ... ;

/*
* The reducer factory only needs the actionTypes. It works as
* a normal reducer.
*/
const reducer = reducerFactory(actionTypes);
                                           `}/>

                                            <p>Check out <Link to="/basics-action-types">this section</Link> to understand how to create your <b>actionTypes</b> automatically</p>
                                            <p><Link to="/api-reference">Or head straight to the API Reference</Link></p>
                                        </div>
                                    </section>
                                    <div className="col-md-12 col-12">
                                        <BottomNavigation pageTitle={"Reducers"}/>
                                    </div>
                                </div>{/*//content-inner*/}
                            </div>{/*//doc-content*/}
                            <Sidenav/>
                        </div>{/*//doc-body*/}
                    </div>{/*//container*/}
                </div>{/*//doc-wrapper*/}
            </Layout>
        )
    }
}




export default Page
